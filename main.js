!function(){"use strict";const t=new class{constructor(){this.boardSize=4,this.container=null,this.boardEl=null,this.cells=[]}bindToDOM(t){if(!(t instanceof HTMLElement))throw new Error("container is not HTMLElement");this.container=t}drawUi(){this.cells.length>0&&this.container.removeChild(this.container.querySelector(".board-container"));const t=document.createElement("div");t.classList.add("board-container"),this.container.appendChild(t);const e=document.createElement("div");e.classList.add("board"),t.appendChild(e),this.boardEl=this.container.querySelector(".board");for(let t=0;t<this.boardSize**2;t+=1){const t=document.createElement("div");t.classList.add("cell"),this.boardEl.appendChild(t)}this.cells=Array.from(this.boardEl.children)}hideCharacter(){let t=document.querySelector(".character");t&&t.remove()}showCharacter(t){const e=this.boardEl.children[t],i=document.createElement("div");i.classList.add("character"),e.appendChild(i)}};t.bindToDOM(document.querySelector(".game-container"));const e=new class{constructor(t){this.gamePlay=t,this.timerId=""}init(){this.onClick=!1,this.gamePlay.drawUi(),""!==this.timerId&&(clearTimeout(this.timerId),this.timerId=""),this.countSuccess=document.querySelector(".status-wins"),this.countfail=document.querySelector(".status-lost"),this.countSuccess.textContent=0,this.countfail.textContent=0,document.addEventListener("click",(t=>{this.onClick=this.onCellClick(t)})),this.next()}onCellClick(t){if(t.target.classList.contains("character"))return t.stopImmediatePropagation(),this.countSuccess.textContent++,this.gamePlay.hideCharacter(),clearTimeout(this.timerId),this.next(),!0}next(){let t;this.timerId=setTimeout((()=>{5===Number(this.countfail.textContent)&&(alert("Вы проиграли"),this.init()),this.gamePlay.hideCharacter(),t=Math.floor(Math.random()*this.gamePlay.boardSize**2),this.gamePlay.showCharacter(t),this.onClick||this.countfail.textContent++,this.onClick=!1,clearTimeout(this.timerId),this.next()}),1e3)}}(t);e.init()}();